/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

draw2d.ResizeHandle=function(_1ac7,type){draw2d.Rectangle.call(this,5,5);this.type=type;var _1ac9=this.getWidth();var _1aca=_1ac9/2;switch(this.type){case 1:this.setSnapToGridAnchor(new draw2d.Point(_1ac9,_1ac9));break;case 2:this.setSnapToGridAnchor(new draw2d.Point(_1aca,_1ac9));break;case 3:this.setSnapToGridAnchor(new draw2d.Point(0,_1ac9));break;case 4:this.setSnapToGridAnchor(new draw2d.Point(0,_1aca));break;case 5:this.setSnapToGridAnchor(new draw2d.Point(0,0));break;case 6:this.setSnapToGridAnchor(new draw2d.Point(_1aca,0));break;case 7:this.setSnapToGridAnchor(new draw2d.Point(_1ac9,0));break;case 8:this.setSnapToGridAnchor(new draw2d.Point(_1ac9,_1aca));break;}this.setBackgroundColor(new draw2d.Color(0,255,0));this.setWorkflow(_1ac7);this.setZOrder(10000);};draw2d.ResizeHandle.prototype=new draw2d.Rectangle;draw2d.ResizeHandle.prototype.type="ResizeHandle";draw2d.ResizeHandle.prototype.getSnapToDirection=function(){switch(this.type){case 1:return draw2d.SnapToHelper.NORTH_WEST;case 2:return draw2d.SnapToHelper.NORTH;case 3:return draw2d.SnapToHelper.NORTH_EAST;case 4:return draw2d.SnapToHelper.EAST;case 5:return draw2d.SnapToHelper.SOUTH_EAST;case 6:return draw2d.SnapToHelper.SOUTH;case 7:return draw2d.SnapToHelper.SOUTH_WEST;case 8:return draw2d.SnapToHelper.WEST;}};draw2d.ResizeHandle.prototype.onDragend=function(){if(this.commandMove==null){return;}var _1acb=this.workflow.currentSelection;this.commandMove.setPosition(_1acb.getX(),_1acb.getY());this.commandResize.setDimension(_1acb.getWidth(),_1acb.getHeight());this.workflow.getCommandStack().execute(this.commandResize);this.workflow.getCommandStack().execute(this.commandMove);this.commandMove=null;this.commandResize=null;this.workflow.hideSnapToHelperLines();};draw2d.ResizeHandle.prototype.setPosition=function(xPos,yPos){this.x=xPos;this.y=yPos;this.html.style.left=this.x+"px";this.html.style.top=this.y+"px";};draw2d.ResizeHandle.prototype.onDragstart=function(x,y){if(!this.canDrag){return false;}var _1ad0=this.workflow.currentSelection;this.commandMove=new draw2d.CommandMove(_1ad0,_1ad0.getX(),_1ad0.getY());this.commandResize=new draw2d.CommandResize(_1ad0,_1ad0.getWidth(),_1ad0.getHeight());return true;};draw2d.ResizeHandle.prototype.onDrag=function(){var oldX=this.getX();var oldY=this.getY();draw2d.Rectangle.prototype.onDrag.call(this);var diffX=oldX-this.getX();var diffY=oldY-this.getY();var _1ad5=this.workflow.currentSelection.getX();var _1ad6=this.workflow.currentSelection.getY();var _1ad7=this.workflow.currentSelection.getWidth();var _1ad8=this.workflow.currentSelection.getHeight();switch(this.type){case 1:this.workflow.currentSelection.setPosition(_1ad5-diffX,_1ad6-diffY);this.workflow.currentSelection.setDimension(_1ad7+diffX,_1ad8+diffY);break;case 2:this.workflow.currentSelection.setPosition(_1ad5,_1ad6-diffY);this.workflow.currentSelection.setDimension(_1ad7,_1ad8+diffY);break;case 3:this.workflow.currentSelection.setPosition(_1ad5,_1ad6-diffY);this.workflow.currentSelection.setDimension(_1ad7-diffX,_1ad8+diffY);break;case 4:this.workflow.currentSelection.setPosition(_1ad5,_1ad6);this.workflow.currentSelection.setDimension(_1ad7-diffX,_1ad8);break;case 5:this.workflow.currentSelection.setPosition(_1ad5,_1ad6);this.workflow.currentSelection.setDimension(_1ad7-diffX,_1ad8-diffY);break;case 6:this.workflow.currentSelection.setPosition(_1ad5,_1ad6);this.workflow.currentSelection.setDimension(_1ad7,_1ad8-diffY);break;case 7:this.workflow.currentSelection.setPosition(_1ad5-diffX,_1ad6);this.workflow.currentSelection.setDimension(_1ad7+diffX,_1ad8-diffY);break;case 8:this.workflow.currentSelection.setPosition(_1ad5-diffX,_1ad6);this.workflow.currentSelection.setDimension(_1ad7+diffX,_1ad8);break;}this.workflow.moveResizeHandles(this.workflow.getCurrentSelection());};draw2d.ResizeHandle.prototype.setCanDrag=function(flag){draw2d.Rectangle.prototype.setCanDrag.call(this,flag);if(!flag){this.html.style.cursor="";return;}switch(this.type){case 1:this.html.style.cursor="nw-resize";break;case 2:this.html.style.cursor="s-resize";break;case 3:this.html.style.cursor="ne-resize";break;case 4:this.html.style.cursor="w-resize";break;case 5:this.html.style.cursor="se-resize";break;case 6:this.html.style.cursor="n-resize";break;case 7:this.html.style.cursor="sw-resize";break;case 8:this.html.style.cursor="e-resize";break;}};draw2d.ResizeHandle.prototype.onKeyDown=function(_1ada,ctrl){this.workflow.onKeyDown(_1ada,ctrl);};draw2d.ResizeHandle.prototype.fireMoveEvent=function(){};